#!/usr/bin/perl
# a little script to get your network status

$en0_info = `ifconfig en0 | grep "inet" | grep -v 127.0.0.1`;
$en1_info = `ifconfig en1 | grep "inet" | grep -v 127.0.0.1`;
$ext_info = `curl -s http://checkip.dyndns.org/`;
$airport_network = `/System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Resources/airport -I | awk -F: '/ SSID/ {print $2}'`;

if($ext_info)
{
$output .= "External: $ext_info ";
}
else
{ $output .= "External: OFFLINE ";}


if($en0_info)
{
$en0_info =~ /inet (.*) netmask/s;
$output .= "Ethernet: $1 ";
}
else
{ $output .= "Ethernet: INACTIVE ";}


if($en1_info)
{
$en1_info =~ /inet (.*) netmask/s;
$en1_info = $1;
$output .= "Airport: $en1_info SSID: $airport_network ";
}
else
{ $output .= "Airport: INACTIVE ";}


print "$output";
print $ext_info;